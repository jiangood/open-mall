# 商城管理系统数据库设计文档

## 1. 设计概述

### 1.1 设计目标

本数据库设计文档旨在为商城管理系统提供完整的数据库结构设计，支持系统的各项功能需求，包括会员管理、订单管理、商品管理、促销管理、店铺管理、运营管理和系统设置等模块。

### 1.2 设计原则

- **表名规范**：所有表名以 `m_` 开头，采用小写字母加下划线的命名方式
- **字段规范**：字段名采用小写字母加下划线的命名方式，字段类型和长度根据实际需求合理设置
- **主键设计**：所有表采用UUID主键 `id`，类型为 `VARCHAR(36)`
- **外键设计**：合理设置外键关系，确保数据完整性
- **索引设计**：为常用查询字段创建索引，提高查询性能
- **时间戳**：所有表包含 `create_time` 和 `update_time` 字段，记录数据的创建和更新时间

### 1.3 数据库版本

本设计基于 MySQL 8.0 版本，支持 JSON 数据类型和其他新特性。

## 2. 表结构设计

### 2.1 会员管理模块

- **m_member**：会员基本信息表
- **m_member_evaluation**：会员评价表
- **m_member_point_rule**：会员积分规则表
- **m_member_point_record**：会员积分变动记录表
- **m_member_fund_record**：会员资金流水表
- **m_member_recharge_record**：会员充值记录表

### 2.2 订单管理模块

- **m_order**：订单主表
- **m_order_item**：订单商品表
- **m_virtual_order**：虚拟订单表
- **m_after_sale**：售后申请表
- **m_order_complaint**：订单投诉表
- **m_order_payment_record**：订单支付记录表

### 2.3 商品管理模块

- **m_product**：商品表
- **m_product_sku**：商品SKU表
- **m_product_category**：商品分类表
- **m_product_brand**：商品品牌表
- **m_product_spec**：商品规格表
- **m_product_spec_value**：商品规格值表
- **m_unit**：计量单位表
- **m_product_audit**：商品审核表

### 2.4 店铺管理模块

- **m_shop**：店铺表
- **m_shop_apply**：店铺入驻申请表
- **m_shop_settlement**：店铺结算表
- **m_shop_reconciliation**：店铺对账单表
- **m_shop_settlement_account**：店铺结算账户表
- **m_shop_operation_stat**：店铺运营数据统计表

### 2.5 促销管理模块

- **m_coupon**：优惠券表
- **m_coupon_receive_record**：优惠券领取记录表
- **m_seckill_activity**：秒杀活动表
- **m_seckill_product**：秒杀商品表
- **m_bargain_activity**：砍价活动表
- **m_bargain_record**：砍价记录表
- **m_group_activity**：拼团活动表
- **m_group_record**：拼团记录表
- **m_points_product**：积分商品表

### 2.6 运营管理模块

- **m_page_decoration**：页面装修表
- **m_article**：文章表
- **m_article_category**：文章分类表
- **m_feedback**：意见反馈表
- **m_message**：站内信表
- **m_message_receive_record**：站内信接收记录表
- **m_sms_config**：短信配置表
- **m_sms_send_record**：短信发送记录表

### 2.7 系统设置模块

- **m_system_param**：系统参数表
- **m_payment_config**：支付配置表
- **m_logistics_config**：物流配置表
- **m_sensitive_word**：敏感词表

## 3. 表结构详细设计

### 3.1 会员管理模块

#### 3.1.1 会员基本信息表 (`m_member`)

| 字段名 | 数据类型 | 长度 | 约束 | 描述 |
| :--- | :--- | :--- | :--- | :--- |
| `id` | `VARCHAR` | 36 | `PRIMARY KEY` | 会员ID |
| `username` | `VARCHAR` | 50 | `NOT NULL, UNIQUE` | 用户名 |
| `password` | `VARCHAR` | 100 | `NOT NULL` | 密码（加密存储） |
| `nickname` | `VARCHAR` | 100 | `NOT NULL` | 昵称 |
| `real_name` | `VARCHAR` | 50 | | 真实姓名 |
| `phone` | `VARCHAR` | 20 | `UNIQUE` | 手机号 |
| `email` | `VARCHAR` | 100 | `UNIQUE` | 邮箱 |
| `avatar` | `VARCHAR` | 255 | | 头像URL |
| `gender` | `TINYINT` | 1 | | 性别（0:未知, 1:男, 2:女） |
| `birthdate` | `DATE` | | | 出生日期 |
| `member_level_id` | `BIGINT` | 20 | `FOREIGN KEY` | 会员等级ID |
| `points` | `INT` | 10 | `DEFAULT 0` | 积分余额 |
| `balance` | `DECIMAL` | 10,2 | `DEFAULT 0.00` | 账户余额 |
| `status` | `TINYINT` | 1 | `DEFAULT 1` | 状态（1:正常, 0:禁用） |
| `create_time` | `DATETIME` | | `NOT NULL` | 创建时间 |
| `update_time` | `DATETIME` | | `NOT NULL` | 更新时间 |
| `last_login_time` | `DATETIME` | | | 最后登录时间 |

#### 3.1.2 会员评价表 (`m_member_evaluation`)

| 字段名 | 数据类型 | 长度 | 约束 | 描述 |
| :--- | :--- | :--- | :--- | :--- |
| `id` | `VARCHAR` | 36 | `PRIMARY KEY` | 评价ID |
| `member_id` | `VARCHAR` | 36 | `NOT NULL, FOREIGN KEY` | 会员ID |
| `order_id` | `VARCHAR` | 36 | `NOT NULL, FOREIGN KEY` | 订单ID |
| `order_item_id` | `VARCHAR` | 36 | `NOT NULL, FOREIGN KEY` | 订单商品ID |
| `product_id` | `VARCHAR` | 36 | `NOT NULL, FOREIGN KEY` | 商品ID |
| `shop_id` | `VARCHAR` | 36 | `NOT NULL, FOREIGN KEY` | 店铺ID |
| `score` | `TINYINT` | 1 | `NOT NULL` | 评分（1-5星） |
| `content` | `TEXT` | | | 评价内容 |
| `images` | `JSON` | | | 评价图片（JSON数组） |
| `is_anonymous` | `TINYINT` | 1 | `DEFAULT 0` | 是否匿名（1:是, 0:否） |
| `status` | `TINYINT` | 1 | `DEFAULT 1` | 状态（1:正常, 0:禁用） |
| `create_time` | `DATETIME` | | `NOT NULL` | 创建时间 |
| `update_time` | `DATETIME` | | `NOT NULL` | 更新时间 |

#### 3.1.3 会员积分规则表 (`m_member_point_rule`)

| 字段名 | 数据类型 | 长度 | 约束 | 描述 |
| :--- | :--- | :--- | :--- | :--- |
| `id` | `VARCHAR` | 36 | `PRIMARY KEY` | 规则ID |
| `rule_name` | `VARCHAR` | 100 | `NOT NULL` | 规则名称 |
| `rule_type` | `VARCHAR` | 50 | `NOT NULL` | 规则类型（如：注册送积分、购物送积分、评价送积分等） |
| `point_value` | `INT` | 10 | `NOT NULL` | 积分值 |
| `min_amount` | `DECIMAL` | 10,2 | | 最低消费金额（购物送积分时使用） |
| `max_points` | `INT` | 10 | | 最大赠送积分 |
| `is_enabled` | `TINYINT` | 1 | `DEFAULT 1` | 是否启用（1:是, 0:否） |
| `create_time` | `DATETIME` | | `NOT NULL` | 创建时间 |
| `update_time` | `DATETIME` | | `NOT NULL` | 更新时间 |

#### 3.1.4 会员积分变动记录表 (`m_member_point_record`)

| 字段名 | 数据类型 | 长度 | 约束 | 描述 |
| :--- | :--- | :--- | :--- | :--- |
| `id` | `VARCHAR` | 36 | `PRIMARY KEY` | 记录ID |
| `member_id` | `VARCHAR` | 36 | `NOT NULL, FOREIGN KEY` | 会员ID |
| `points` | `INT` | 10 | `NOT NULL` | 变动积分（正数为增加，负数为减少） |
| `type` | `VARCHAR` | 50 | `NOT NULL` | 变动类型（如：注册赠送、购物获得、评价获得、兑换商品、过期扣减等） |
| `source_id` | `VARCHAR` | 36 | | 来源ID（如订单ID、商品ID等） |
| `before_points` | `INT` | 10 | `NOT NULL` | 变动前积分 |
| `after_points` | `INT` | 10 | `NOT NULL` | 变动后积分 |
| `remark` | `VARCHAR` | 255 | | 备注 |
| `create_time` | `DATETIME` | | `NOT NULL` | 创建时间 |

#### 3.1.5 会员资金流水表 (`m_member_fund_record`)

| 字段名 | 数据类型 | 长度 | 约束 | 描述 |
| :--- | :--- | :--- | :--- | :--- |
| `id` | `VARCHAR` | 36 | `PRIMARY KEY` | 记录ID |
| `member_id` | `VARCHAR` | 36 | `NOT NULL, FOREIGN KEY` | 会员ID |
| `amount` | `DECIMAL` | 10,2 | `NOT NULL` | 变动金额（正数为增加，负数为减少） |
| `type` | `VARCHAR` | 50 | `NOT NULL` | 变动类型（如：充值、购物消费、退款、提现等） |
| `source_id` | `VARCHAR` | 36 | | 来源ID（如订单ID、充值记录ID等） |
| `before_balance` | `DECIMAL` | 10,2 | `NOT NULL` | 变动前余额 |
| `after_balance` | `DECIMAL` | 10,2 | `NOT NULL` | 变动后余额 |
| `status` | `VARCHAR` | 20 | `NOT NULL` | 状态（如：成功、失败、处理中） |
| `remark` | `VARCHAR` | 255 | | 备注 |
| `create_time` | `DATETIME` | | `NOT NULL` | 创建时间 |
| `update_time` | `DATETIME` | | `NOT NULL` | 更新时间 |

#### 3.1.6 会员充值记录表 (`m_member_recharge_record`)

| 字段名 | 数据类型 | 长度 | 约束 | 描述 |
| :--- | :--- | :--- | :--- | :--- |
| `id` | `VARCHAR` | 36 | `PRIMARY KEY` | 充值记录ID |
| `member_id` | `VARCHAR` | 36 | `NOT NULL, FOREIGN KEY` | 会员ID |
| `recharge_amount` | `DECIMAL` | 10,2 | `NOT NULL` | 充值金额 |
| `actual_amount` | `DECIMAL` | 10,2 | `NOT NULL` | 实际支付金额 |
| `payment_method` | `VARCHAR` | 50 | `NOT NULL` | 支付方式（如：微信支付、支付宝等） |
| `order_no` | `VARCHAR` | 50 | `NOT NULL, UNIQUE` | 充值订单号 |
| `transaction_id` | `VARCHAR` | 100 | | 支付平台交易ID |
| `status` | `VARCHAR` | 20 | `NOT NULL` | 状态（如：待支付、支付中、成功、失败、退款） |
| `remark` | `VARCHAR` | 255 | | 备注 |
| `create_time` | `DATETIME` | | `NOT NULL` | 创建时间 |
| `update_time` | `DATETIME` | | `NOT NULL` | 更新时间 |
| `pay_time` | `DATETIME` | | | 支付时间 |

### 3.2 订单管理模块

#### 3.2.1 订单主表 (`m_order`)

| 字段名 | 数据类型 | 长度 | 约束 | 描述 |
| :--- | :--- | :--- | :--- | :--- |
| `id` | `VARCHAR` | 36 | `PRIMARY KEY` | 订单ID |
| `order_no` | `VARCHAR` | 50 | `NOT NULL, UNIQUE` | 订单编号 |
| `member_id` | `VARCHAR` | 36 | `NOT NULL, FOREIGN KEY` | 会员ID |
| `shop_id` | `VARCHAR` | 36 | `NOT NULL, FOREIGN KEY` | 店铺ID |
| `total_amount` | `DECIMAL` | 10,2 | `NOT NULL` | 订单总金额 |
| `actual_amount` | `DECIMAL` | 10,2 | `NOT NULL` | 实际支付金额 |
| `payment_amount` | `DECIMAL` | 10,2 | `DEFAULT 0.00` | 已支付金额 |
| `refund_amount` | `DECIMAL` | 10,2 | `DEFAULT 0.00` | 退款金额 |
| `payment_method` | `VARCHAR` | 50 | | 支付方式（如：微信支付、支付宝等） |
| `payment_status` | `VARCHAR` | 20 | `NOT NULL` | 支付状态（如：待支付、已支付、部分支付、已退款、部分退款） |
| `order_status` | `VARCHAR` | 20 | `NOT NULL` | 订单状态（如：待付款、待发货、待收货、已完成、已取消、已退款） |
| `shipping_status` | `VARCHAR` | 20 | | 物流状态（如：待发货、已发货、已收货、物流中） |
| `shipping_method` | `VARCHAR` | 50 | | 物流方式 |
| `tracking_no` | `VARCHAR` | 100 | | 物流单号 |
| `consignee_name` | `VARCHAR` | 50 | `NOT NULL` | 收货人姓名 |
| `consignee_phone` | `VARCHAR` | 20 | `NOT NULL` | 收货人手机号 |
| `consignee_address` | `VARCHAR` | 255 | `NOT NULL` | 收货人地址 |
| `remark` | `VARCHAR` | 255 | | 订单备注 |
| `coupon_id` | `VARCHAR` | 36 | `FOREIGN KEY` | 优惠券ID |
| `coupon_amount` | `DECIMAL` | 10,2 | `DEFAULT 0.00` | 优惠券金额 |
| `points_deduction` | `DECIMAL` | 10,2 | `DEFAULT 0.00` | 积分抵扣金额 |
| `balance_deduction` | `DECIMAL` | 10,2 | `DEFAULT 0.00` | 余额抵扣金额 |
| `shipping_fee` | `DECIMAL` | 10,2 | `DEFAULT 0.00` | 运费 |
| `create_time` | `DATETIME` | | `NOT NULL` | 创建时间 |
| `update_time` | `DATETIME` | | `NOT NULL` | 更新时间 |
| `pay_time` | `DATETIME` | | | 支付时间 |
| `shipping_time` | `DATETIME` | | | 发货时间 |
| `confirm_time` | `DATETIME` | | | 确认收货时间 |
| `cancel_time` | `DATETIME` | | | 取消时间 |

#### 3.2.2 订单商品表 (`m_order_item`)

| 字段名 | 数据类型 | 长度 | 约束 | 描述 |
| :--- | :--- | :--- | :--- | :--- |
| `id` | `VARCHAR` | 36 | `PRIMARY KEY` | 订单商品ID |
| `order_id` | `VARCHAR` | 36 | `NOT NULL, FOREIGN KEY` | 订单ID |
| `product_id` | `VARCHAR` | 36 | `NOT NULL, FOREIGN KEY` | 商品ID |
| `sku_id` | `VARCHAR` | 36 | `FOREIGN KEY` | 商品SKU ID |
| `product_name` | `VARCHAR` | 255 | `NOT NULL` | 商品名称 |
| `sku_attributes` | `VARCHAR` | 255 | | SKU属性（如：颜色、尺码等） |
| `product_image` | `VARCHAR` | 255 | | 商品图片 |
| `price` | `DECIMAL` | 10,2 | `NOT NULL` | 商品单价 |
| `quantity` | `INT` | 10 | `NOT NULL` | 购买数量 |
| `total_price` | `DECIMAL` | 10,2 | `NOT NULL` | 商品总价 |
| `status` | `VARCHAR` | 20 | `NOT NULL` | 商品状态（如：正常、已退款、部分退款） |
| `create_time` | `DATETIME` | | `NOT NULL` | 创建时间 |
| `update_time` | `DATETIME` | | `NOT NULL` | 更新时间 |

#### 3.2.3 虚拟订单表 (`m_virtual_order`)

| 字段名 | 数据类型 | 长度 | 约束 | 描述 |
| :--- | :--- | :--- | :--- | :--- |
| `id` | `VARCHAR` | 36 | `PRIMARY KEY` | 虚拟订单ID |
| `order_no` | `VARCHAR` | 50 | `NOT NULL, UNIQUE` | 订单编号 |
| `member_id` | `VARCHAR` | 36 | `NOT NULL, FOREIGN KEY` | 会员ID |
| `shop_id` | `VARCHAR` | 36 | `NOT NULL, FOREIGN KEY` | 店铺ID |
| `product_id` | `VARCHAR` | 36 | `NOT NULL, FOREIGN KEY` | 虚拟商品ID |
| `total_amount` | `DECIMAL` | 10,2 | `NOT NULL` | 订单总金额 |
| `actual_amount` | `DECIMAL` | 10,2 | `NOT NULL` | 实际支付金额 |
| `payment_method` | `VARCHAR` | 50 | | 支付方式 |
| `payment_status` | `VARCHAR` | 20 | `NOT NULL` | 支付状态 |
| `order_status` | `VARCHAR` | 20 | `NOT NULL` | 订单状态 |
| `delivery_status` | `VARCHAR` | 20 | `NOT NULL` | 交付状态（如：待交付、已交付、已失效） |
| `card_no` | `VARCHAR` | 100 | | 卡号（如：激活码、卡密等） |
| `card_password` | `VARCHAR` | 100 | | 卡密 |
| `expire_time` | `DATETIME` | | | 过期时间 |
| `remark` | `VARCHAR` | 255 | | 订单备注 |
| `create_time` | `DATETIME` | | `NOT NULL` | 创建时间 |
| `update_time` | `DATETIME` | | `NOT NULL` | 更新时间 |
| `pay_time` | `DATETIME` | | | 支付时间 |
| `delivery_time` | `DATETIME` | | | 交付时间 |

#### 3.2.4 售后申请表 (`m_after_sale`)

| 字段名 | 数据类型 | 长度 | 约束 | 描述 |
| :--- | :--- | :--- | :--- | :--- |
| `id` | `VARCHAR` | 36 | `PRIMARY KEY` | 售后申请ID |
| `after_sale_no` | `VARCHAR` | 50 | `NOT NULL, UNIQUE` | 售后单号 |
| `order_id` | `VARCHAR` | 36 | `NOT NULL, FOREIGN KEY` | 订单ID |
| `order_item_id` | `VARCHAR` | 36 | `NOT NULL, FOREIGN KEY` | 订单商品ID |
| `member_id` | `VARCHAR` | 36 | `NOT NULL, FOREIGN KEY` | 会员ID |
| `shop_id` | `VARCHAR` | 36 | `NOT NULL, FOREIGN KEY` | 店铺ID |
| `product_id` | `VARCHAR` | 36 | `NOT NULL, FOREIGN KEY` | 商品ID |
| `apply_type` | `VARCHAR` | 20 | `NOT NULL` | 申请类型（如：退款、退货退款、换货） |
| `apply_quantity` | `INT` | 10 | `NOT NULL` | 申请数量 |
| `apply_amount` | `DECIMAL` | 10,2 | `NOT NULL` | 申请金额 |
| `reason` | `VARCHAR` | 255 | `NOT NULL` | 申请原因 |
| `description` | `TEXT` | | | 问题描述 |
| `images` | `JSON` | | | 问题图片（JSON数组） |
| `status` | `VARCHAR` | 20 | `NOT NULL` | 状态（如：待审核、审核通过、审核拒绝、待发货、待收货、已完成、已取消、退款中、退款成功、退款失败） |
| `shop_remark` | `VARCHAR` | 255 | | 商家备注 |
| `admin_remark` | `VARCHAR` | 255 | | 管理员备注 |
| `refund_amount` | `DECIMAL` | 10,2 | `DEFAULT 0.00` | 实际退款金额 |
| `return_shipping_no` | `VARCHAR` | 100 | | 退货物流单号 |
| `return_shipping_company` | `VARCHAR` | 100 | | 退货物流公司 |
| `create_time` | `DATETIME` | | `NOT NULL` | 创建时间 |
| `update_time` | `DATETIME` | | `NOT NULL` | 更新时间 |
| `audit_time` | `DATETIME` | | | 审核时间 |
| `refund_time` | `DATETIME` | | | 退款时间 |

#### 3.2.5 订单投诉表 (`m_order_complaint`)

| 字段名 | 数据类型 | 长度 | 约束 | 描述 |
| :--- | :--- | :--- | :--- | :--- |
| `id` | `VARCHAR` | 36 | `PRIMARY KEY` | 投诉ID |
| `complaint_no` | `VARCHAR` | 50 | `NOT NULL, UNIQUE` | 投诉单号 |
| `order_id` | `VARCHAR` | 36 | `NOT NULL, FOREIGN KEY` | 订单ID |
| `member_id` | `VARCHAR` | 36 | `NOT NULL, FOREIGN KEY` | 会员ID |
| `shop_id` | `VARCHAR` | 36 | `NOT NULL, FOREIGN KEY` | 店铺ID |
| `complaint_type` | `VARCHAR` | 50 | `NOT NULL` | 投诉类型（如：商品质量、服务态度、物流问题等） |
| `complaint_content` | `TEXT` | `NOT NULL` | | 投诉内容 |
| `complaint_images` | `JSON` | | | 投诉图片（JSON数组） |
| `status` | `VARCHAR` | 20 | `NOT NULL` | 状态（如：待处理、处理中、已解决、已驳回） |
| `shop_response` | `TEXT` | | | 商家回复 |
| `admin_response` | `TEXT` | | | 管理员处理意见 |
| `processing_result` | `VARCHAR` | 255 | | 处理结果 |
| `create_time` | `DATETIME` | | `NOT NULL` | 创建时间 |
| `update_time` | `DATETIME` | | `NOT NULL` | 更新时间 |
| `process_time` | `DATETIME` | | | 处理时间 |

#### 3.2.6 订单支付记录表 (`m_order_payment_record`)

| 字段名 | 数据类型 | 长度 | 约束 | 描述 |
| :--- | :--- | :--- | :--- | :--- |
| `id` | `VARCHAR` | 36 | `PRIMARY KEY` | 支付记录ID |
| `order_id` | `VARCHAR` | 36 | `NOT NULL, FOREIGN KEY` | 订单ID |
| `member_id` | `VARCHAR` | 36 | `NOT NULL, FOREIGN KEY` | 会员ID |
| `payment_no` | `VARCHAR` | 50 | `NOT NULL, UNIQUE` | 支付单号 |
| `transaction_id` | `VARCHAR` | 100 | | 支付平台交易ID |
| `payment_amount` | `DECIMAL` | 10,2 | `NOT NULL` | 支付金额 |
| `payment_method` | `VARCHAR` | 50 | `NOT NULL` | 支付方式 |
| `payment_type` | `VARCHAR` | 20 | `NOT NULL` | 支付类型（如：订单支付、退款） |
| `status` | `VARCHAR` | 20 | `NOT NULL` | 状态（如：待支付、支付中、成功、失败、退款中、已退款） |
| `remark` | `VARCHAR` | 255 | | 备注 |
| `create_time` | `DATETIME` | | `NOT NULL` | 创建时间 |
| `update_time` | `DATETIME` | | `NOT NULL` | 更新时间 |
| `success_time` | `DATETIME` | | | 成功时间 |

### 3.3 商品管理模块

#### 3.3.1 商品表 (`m_product`)

| 字段名 | 数据类型 | 长度 | 约束 | 描述 |
| :--- | :--- | :--- | :--- | :--- |
| `id` | `VARCHAR` | 36 | `PRIMARY KEY` | 商品ID |
| `product_name` | `VARCHAR` | 255 | `NOT NULL` | 商品名称 |
| `product_code` | `VARCHAR` | 100 | `UNIQUE` | 商品编码 |
| `shop_id` | `VARCHAR` | 36 | `NOT NULL, FOREIGN KEY` | 店铺ID |
| `category_id` | `VARCHAR` | 36 | `NOT NULL, FOREIGN KEY` | 分类ID |
| `brand_id` | `VARCHAR` | 36 | `FOREIGN KEY` | 品牌ID |
| `unit_id` | `VARCHAR` | 36 | `NOT NULL, FOREIGN KEY` | 计量单位ID |
| `main_image` | `VARCHAR` | 255 | | 主图 |
| `images` | `JSON` | | | 商品图片（JSON数组） |
| `video` | `VARCHAR` | 255 | | 商品视频 |
| `description` | `TEXT` | | | 商品描述 |
| `stock` | `INT` | 10 | `NOT NULL, DEFAULT 0` | 库存 |
| `min_price` | `DECIMAL` | 10,2 | `NOT NULL` | 最低价格 |
| `max_price` | `DECIMAL` | 10,2 | `NOT NULL` | 最高价格 |
| `market_price` | `DECIMAL` | 10,2 | | 市场价格 |
| `weight` | `DECIMAL` | 10,2 | | 重量 |
| `volume` | `DECIMAL` | 10,2 | | 体积 |
| `sales` | `INT` | 10 | `DEFAULT 0` | 销量 |
| `views` | `INT` | 10 | `DEFAULT 0` | 浏览量 |
| `favorites` | `INT` | 10 | `DEFAULT 0` | 收藏量 |
| `rating` | `DECIMAL` | 3,2 | `DEFAULT 0.00` | 评分 |
| `comment_count` | `INT` | 10 | `DEFAULT 0` | 评论数 |
| `is_virtual` | `TINYINT` | 1 | `DEFAULT 0` | 是否虚拟商品（1:是, 0:否） |
| `is_active` | `TINYINT` | 1 | `DEFAULT 1` | 是否上架（1:是, 0:否） |
| `is_audit` | `TINYINT` | 1 | `DEFAULT 0` | 是否审核（1:通过, 0:待审核, -1:拒绝） |
| `audit_remark` | `VARCHAR` | 255 | | 审核备注 |
| `sort` | `INT` | 10 | `DEFAULT 0` | 排序 |
| `create_time` | `DATETIME` | | `NOT NULL` | 创建时间 |
| `update_time` | `DATETIME` | | `NOT NULL` | 更新时间 |
| `audit_time` | `DATETIME` | | | 审核时间 |

#### 3.3.2 商品SKU表 (`m_product_sku`)

| 字段名 | 数据类型 | 长度 | 约束 | 描述 |
| :--- | :--- | :--- | :--- | :--- |
| `id` | `VARCHAR` | 36 | `PRIMARY KEY` | SKU ID |
| `product_id` | `VARCHAR` | 36 | `NOT NULL, FOREIGN KEY` | 商品ID |
| `sku_code` | `VARCHAR` | 100 | `UNIQUE` | SKU编码 |
| `attributes` | `JSON` | | `NOT NULL` | SKU属性（JSON格式，如：{"color": "红色", "size": "M"}） |
| `attribute_text` | `VARCHAR` | 255 | `NOT NULL` | SKU属性文本（如：红色/M） |
| `price` | `DECIMAL` | 10,2 | `NOT NULL` | 价格 |
| `stock` | `INT` | 10 | `NOT NULL, DEFAULT 0` | 库存 |
| `sales` | `INT` | 10 | `DEFAULT 0` | 销量 |
| `image` | `VARCHAR` | 255 | | SKU图片 |
| `barcode` | `VARCHAR` | 100 | | 条形码 |
| `create_time` | `DATETIME` | | `NOT NULL` | 创建时间 |
| `update_time` | `DATETIME` | | `NOT NULL` | 更新时间 |

#### 3.3.3 商品分类表 (`m_product_category`)

| 字段名 | 数据类型 | 长度 | 约束 | 描述 |
| :--- | :--- | :--- | :--- | :--- |
| `id` | `VARCHAR` | 36 | `PRIMARY KEY` | 分类ID |
| `name` | `VARCHAR` | 100 | `NOT NULL` | 分类名称 |
| `parent_id` | `VARCHAR` | 36 | `DEFAULT '0'` | 父分类ID（'0'为顶级分类） |
| `level` | `INT` | 10 | `NOT NULL` | 分类层级 |
| `path` | `VARCHAR` | 255 | | 分类路径（如：1,2,3） |
| `icon` | `VARCHAR` | 255 | | 分类图标 |
| `image` | `VARCHAR` | 255 | | 分类图片 |
| `description` | `VARCHAR` | 255 | | 分类描述 |
| `is_show` | `TINYINT` | 1 | `DEFAULT 1` | 是否显示（1:是, 0:否） |
| `sort` | `INT` | 10 | `DEFAULT 0` | 排序 |
| `create_time` | `DATETIME` | | `NOT NULL` | 创建时间 |
| `update_time` | `DATETIME` | | `NOT NULL` | 更新时间 |

#### 3.3.4 商品品牌表 (`m_product_brand`)

| 字段名 | 数据类型 | 长度 | 约束 | 描述 |
| :--- | :--- | :--- | :--- | :--- |
| `id` | `VARCHAR` | 36 | `PRIMARY KEY` | 品牌ID |
| `name` | `VARCHAR` | 100 | `NOT NULL, UNIQUE` | 品牌名称 |
| `logo` | `VARCHAR` | 255 | | 品牌Logo |
| `description` | `VARCHAR` | 255 | | 品牌描述 |
| `sort` | `INT` | 10 | `DEFAULT 0` | 排序 |
| `is_show` | `TINYINT` | 1 | `DEFAULT 1` | 是否显示（1:是, 0:否） |
| `create_time` | `DATETIME` | | `NOT NULL` | 创建时间 |
| `update_time` | `DATETIME` | | `NOT NULL` | 更新时间 |

#### 3.3.5 商品规格表 (`m_product_spec`)

| 字段名 | 数据类型 | 长度 | 约束 | 描述 |
| :--- | :--- | :--- | :--- | :--- |
| `id` | `VARCHAR` | 36 | `PRIMARY KEY` | 规格ID |
| `name` | `VARCHAR` | 100 | `NOT NULL` | 规格名称（如：颜色、尺码） |
| `sort` | `INT` | 10 | `DEFAULT 0` | 排序 |
| `create_time` | `DATETIME` | | `NOT NULL` | 创建时间 |
| `update_time` | `DATETIME` | | `NOT NULL` | 更新时间 |

#### 3.3.6 商品规格值表 (`m_product_spec_value`)

| 字段名 | 数据类型 | 长度 | 约束 | 描述 |
| :--- | :--- | :--- | :--- | :--- |
| `id` | `VARCHAR` | 36 | `PRIMARY KEY` | 规格值ID |
| `spec_id` | `VARCHAR` | 36 | `NOT NULL, FOREIGN KEY` | 规格ID |
| `value` | `VARCHAR` | 100 | `NOT NULL` | 规格值（如：红色、M） |
| `sort` | `INT` | 10 | `DEFAULT 0` | 排序 |
| `create_time` | `DATETIME` | | `NOT NULL` | 创建时间 |
| `update_time` | `DATETIME` | | `NOT NULL` | 更新时间 |

#### 3.3.7 计量单位表 (`m_unit`)

| 字段名 | 数据类型 | 长度 | 约束 | 描述 |
| :--- | :--- | :--- | :--- | :--- |
| `id` | `VARCHAR` | 36 | `PRIMARY KEY` | 单位ID |
| `name` | `VARCHAR` | 50 | `NOT NULL, UNIQUE` | 单位名称（如：个、件、千克） |
| `symbol` | `VARCHAR` | 20 | | 单位符号（如：个、kg） |
| `sort` | `INT` | 10 | `DEFAULT 0` | 排序 |
| `create_time` | `DATETIME` | | `NOT NULL` | 创建时间 |
| `update_time` | `DATETIME` | | `NOT NULL` | 更新时间 |

#### 3.3.8 商品审核表 (`m_product_audit`)

| 字段名 | 数据类型 | 长度 | 约束 | 描述 |
| :--- | :--- | :--- | :--- | :--- |
| `id` | `VARCHAR` | 36 | `PRIMARY KEY` | 审核ID |
| `product_id` | `VARCHAR` | 36 | `NOT NULL, FOREIGN KEY` | 商品ID |
| `shop_id` | `VARCHAR` | 36 | `NOT NULL, FOREIGN KEY` | 店铺ID |
| `audit_type` | `VARCHAR` | 20 | `NOT NULL` | 审核类型（如：新增、修改） |
| `audit_status` | `TINYINT` | 1 | `NOT NULL` | 审核状态（1:通过, 0:待审核, -1:拒绝） |
| `audit_remark` | `VARCHAR` | 255 | | 审核备注 |
| `audit_user_id` | `VARCHAR` | 36 | | 审核人ID |
| `create_time` | `DATETIME` | | `NOT NULL` | 创建时间 |
| `update_time` | `DATETIME` | | `NOT NULL` | 更新时间 |
| `audit_time` | `DATETIME` | | | 审核时间 |

### 3.4 店铺管理模块

#### 3.4.1 店铺表 (`m_shop`)

| 字段名 | 数据类型 | 长度 | 约束 | 描述 |
| :--- | :--- | :--- | :--- | :--- |
| `id` | `VARCHAR` | 36 | `PRIMARY KEY` | 店铺ID |
| `shop_name` | `VARCHAR` | 255 | `NOT NULL, UNIQUE` | 店铺名称 |
| `shop_code` | `VARCHAR` | 100 | `UNIQUE` | 店铺编码 |
| `shop_type` | `VARCHAR` | 50 | `NOT NULL` | 店铺类型（如：旗舰店、专营店、专卖店、普通店） |
| `owner_id` | `VARCHAR` | 36 | `NOT NULL, FOREIGN KEY` | 店主ID |
| `contact_name` | `VARCHAR` | 50 | `NOT NULL` | 联系人姓名 |
| `contact_phone` | `VARCHAR` | 20 | `NOT NULL` | 联系人手机号 |
| `contact_email` | `VARCHAR` | 100 | | 联系人邮箱 |
| `logo` | `VARCHAR` | 255 | | 店铺Logo |
| `banner` | `VARCHAR` | 255 | | 店铺横幅 |
| `description` | `TEXT` | | | 店铺描述 |
| `address` | `VARCHAR` | 255 | | 店铺地址 |
| `province` | `VARCHAR` | 50 | | 省份 |
| `city` | `VARCHAR` | 50 | | 城市 |
| `district` | `VARCHAR` | 50 | | 区县 |
| `business_license` | `VARCHAR` | 255 | | 营业执照图片 |
| `tax_registration` | `VARCHAR` | 255 | | 税务登记证图片 |
| `organization_code` | `VARCHAR` | 255 | | 组织机构代码证图片 |
| `status` | `VARCHAR` | 20 | `NOT NULL` | 店铺状态（如：待审核、审核通过、审核拒绝、正常营业、暂停营业、已关闭） |
| `open_time` | `DATETIME` | | | 开店时间 |
| `close_time` | `DATETIME` | | | 关闭时间 |
| `sort` | `INT` | 10 | `DEFAULT 0` | 排序 |
| `create_time` | `DATETIME` | | `NOT NULL` | 创建时间 |
| `update_time` | `DATETIME` | | `NOT NULL` | 更新时间 |

#### 3.4.2 店铺入驻申请表 (`m_shop_apply`)

| 字段名 | 数据类型 | 长度 | 约束 | 描述 |
| :--- | :--- | :--- | :--- | :--- |
| `id` | `VARCHAR` | 36 | `PRIMARY KEY` | 申请ID |
| `apply_no` | `VARCHAR` | 50 | `NOT NULL, UNIQUE` | 申请单号 |
| `shop_name` | `VARCHAR` | 255 | `NOT NULL` | 申请店铺名称 |
| `shop_type` | `VARCHAR` | 50 | `NOT NULL` | 店铺类型 |
| `applicant_name` | `VARCHAR` | 50 | `NOT NULL` | 申请人姓名 |
| `applicant_phone` | `VARCHAR` | 20 | `NOT NULL` | 申请人手机号 |
| `applicant_email` | `VARCHAR` | 100 | | 申请人邮箱 |
| `business_license` | `VARCHAR` | 255 | `NOT NULL` | 营业执照图片 |
| `tax_registration` | `VARCHAR` | 255 | | 税务登记证图片 |
| `organization_code` | `VARCHAR` | 255 | | 组织机构代码证图片 |
| `id_card_front` | `VARCHAR` | 255 | `NOT NULL` | 身份证正面图片 |
| `id_card_back` | `VARCHAR` | 255 | `NOT NULL` | 身份证反面图片 |
| `status` | `VARCHAR` | 20 | `NOT NULL` | 状态（如：待审核、审核通过、审核拒绝） |
| `audit_remark` | `VARCHAR` | 255 | | 审核备注 |
| `audit_user_id` | `VARCHAR` | 36 | | 审核人ID |
| `create_time` | `DATETIME` | | `NOT NULL` | 创建时间 |
| `update_time` | `DATETIME` | | `NOT NULL` | 更新时间 |
| `audit_time` | `DATETIME` | | | 审核时间 |

#### 3.4.3 店铺结算表 (`m_shop_settlement`)

| 字段名 | 数据类型 | 长度 | 约束 | 描述 |
| :--- | :--- | :--- | :--- | :--- |
| `id` | `VARCHAR` | 36 | `PRIMARY KEY` | 结算ID |
| `settlement_no` | `VARCHAR` | 50 | `NOT NULL, UNIQUE` | 结算单号 |
| `shop_id` | `VARCHAR` | 36 | `NOT NULL, FOREIGN KEY` | 店铺ID |
| `settlement_period` | `VARCHAR` | 50 | `NOT NULL` | 结算周期（如：2023-01-01至2023-01-31） |
| `order_count` | `INT` | 10 | `NOT NULL` | 订单数量 |
| `total_amount` | `DECIMAL` | 10,2 | `NOT NULL` | 总销售额 |
| `platform_fee` | `DECIMAL` | 10,2 | `NOT NULL` | 平台费用 |
| `other_fee` | `DECIMAL` | 10,2 | `DEFAULT 0.00` | 其他费用 |
| `refund_amount` | `DECIMAL` | 10,2 | `DEFAULT 0.00` | 退款金额 |
| `settlement_amount` | `DECIMAL` | 10,2 | `NOT NULL` | 结算金额 |
| `status` | `VARCHAR` | 20 | `NOT NULL` | 状态（如：待结算、已结算、已支付、部分支付、已取消） |
| `payment_method` | `VARCHAR` | 50 | | 支付方式 |
| `payment_time` | `DATETIME` | | | 支付时间 |
| `remark` | `VARCHAR` | 255 | | 备注 |
| `create_time` | `DATETIME` | | `NOT NULL` | 创建时间 |
| `update_time` | `DATETIME` | | `NOT NULL` | 更新时间 |

#### 3.4.4 店铺对账单表 (`m_shop_reconciliation`)

| 字段名 | 数据类型 | 长度 | 约束 | 描述 |
| :--- | :--- | :--- | :--- | :--- |
| `id` | `VARCHAR` | 36 | `PRIMARY KEY` | 对账单ID |
| `reconciliation_no` | `VARCHAR` | 50 | `NOT NULL, UNIQUE` | 对账单号 |
| `shop_id` | `VARCHAR` | 36 | `NOT NULL, FOREIGN KEY` | 店铺ID |
| `reconciliation_period` | `VARCHAR` | 50 | `NOT NULL` | 对账周期（如：2023-01-01至2023-01-31） |
| `order_count` | `INT` | 10 | `NOT NULL` | 订单数量 |
| `total_amount` | `DECIMAL` | 10,2 | `NOT NULL` | 总销售额 |
| `platform_fee` | `DECIMAL` | 10,2 | `NOT NULL` | 平台费用 |
| `other_fee` | `DECIMAL` | 10,2 | `DEFAULT 0.00` | 其他费用 |
| `refund_amount` | `DECIMAL` | 10,2 | `DEFAULT 0.00` | 退款金额 |
| `should_settle_amount` | `DECIMAL` | 10,2 | `NOT NULL` | 应结算金额 |
| `actual_settle_amount` | `DECIMAL` | 10,2 | | 实际结算金额 |
| `status` | `VARCHAR` | 20 | `NOT NULL` | 状态（如：待确认、已确认、已结算、有异议） |
| `shop_remark` | `VARCHAR` | 255 | | 店铺备注 |
| `admin_remark` | `VARCHAR` | 255 | | 管理员备注 |
| `create_time` | `DATETIME` | | `NOT NULL` | 创建时间 |
| `update_time` | `DATETIME` | | `NOT NULL` | 更新时间 |
| `confirm_time` | `DATETIME` | | | 确认时间 |

#### 3.4.5 店铺结算账户表 (`m_shop_settlement_account`)

| 字段名 | 数据类型 | 长度 | 约束 | 描述 |
| :--- | :--- | :--- | :--- | :--- |
| `id` | `VARCHAR` | 36 | `PRIMARY KEY` | 账户ID |
| `shop_id` | `VARCHAR` | 36 | `NOT NULL, FOREIGN KEY` | 店铺ID |
| `account_type` | `VARCHAR` | 50 | `NOT NULL` | 账户类型（如：银行卡、支付宝、微信支付） |
| `account_name` | `VARCHAR` | 100 | `NOT NULL` | 账户名称 |
| `account_number` | `VARCHAR` | 100 | `NOT NULL` | 账户号码 |
| `bank_name` | `VARCHAR` | 100 | | 银行名称 |
| `branch_name` | `VARCHAR` | 100 | | 支行名称 |
| `is_default` | `TINYINT` | 1 | `DEFAULT 0` | 是否默认（1:是, 0:否） |
| `create_time` | `DATETIME` | | `NOT NULL` | 创建时间 |
| `update_time` | `DATETIME` | | `NOT NULL` | 更新时间 |

#### 3.4.6 店铺运营数据统计表 (`m_shop_operation_stat`)

| 字段名 | 数据类型 | 长度 | 约束 | 描述 |
| :--- | :--- | :--- | :--- | :--- |
| `id` | `VARCHAR` | 36 | `PRIMARY KEY` | 统计ID |
| `shop_id` | `VARCHAR` | 36 | `NOT NULL, FOREIGN KEY` | 店铺ID |
| `stat_date` | `DATE` | | `NOT NULL` | 统计日期 |
| `views` | `INT` | 10 | `DEFAULT 0` | 浏览量 |
| `visitors` | `INT` | 10 | `DEFAULT 0` | 访客数 |
| `order_count` | `INT` | 10 | `DEFAULT 0` | 订单数 |
| `sales_amount` | `DECIMAL` | 10,2 | `DEFAULT 0.00` | 销售额 |
| `create_time` | `DATETIME` | | `NOT NULL` | 创建时间 |
| `update_time` | `DATETIME` | | `NOT NULL` | 更新时间 |

### 3.5 促销管理模块

#### 3.5.1 优惠券表 (`m_coupon`)

| 字段名 | 数据类型 | 长度 | 约束 | 描述 |
| :--- | :--- | :--- | :--- | :--- |
| `id` | `VARCHAR` | 36 | `PRIMARY KEY` | 优惠券ID |
| `coupon_name` | `VARCHAR` | 100 | `NOT NULL` | 优惠券名称 |
| `coupon_code` | `VARCHAR` | 50 | `UNIQUE` | 优惠券编码 |
| `coupon_type` | `VARCHAR` | 20 | `NOT NULL` | 优惠券类型（如：满减券、折扣券、立减券） |
| `shop_id` | `VARCHAR` | 36 | `FOREIGN KEY` | 店铺ID（平台优惠券为null） |
| `face_value` | `DECIMAL` | 10,2 | `NOT NULL` | 面值 |
| `min_spend` | `DECIMAL` | 10,2 | `DEFAULT 0.00` | 最低消费金额 |
| `discount_rate` | `DECIMAL` | 5,2 | | 折扣率（如：8.5折） |
| `max_discount` | `DECIMAL` | 10,2 | | 最大折扣金额 |
| `total_count` | `INT` | 10 | `NOT NULL` | 总数量 |
| `used_count` | `INT` | 10 | `DEFAULT 0` | 已使用数量 |
| `start_time` | `DATETIME` | `NOT NULL` | | 开始时间 |
| `end_time` | `DATETIME` | `NOT NULL` | | 结束时间 |
| `is_public` | `TINYINT` | 1 | `DEFAULT 1` | 是否公开（1:是, 0:否） |
| `is_reusable` | `TINYINT` | 1 | `DEFAULT 0` | 是否可重复使用（1:是, 0:否） |
| `is_stackable` | `TINYINT` | 1 | `DEFAULT 0` | 是否可叠加使用（1:是, 0:否） |
| `status` | `VARCHAR` | 20 | `NOT NULL` | 状态（如：待开始、进行中、已结束、已过期） |
| `scope_type` | `VARCHAR` | 20 | `NOT NULL` | 使用范围（如：全场通用、指定商品、指定分类） |
| `scope_ids` | `JSON` | | | 使用范围ID列表（JSON数组） |
| `remark` | `VARCHAR` | 255 | | 备注 |
| `create_time` | `DATETIME` | | `NOT NULL` | 创建时间 |
| `update_time` | `DATETIME` | | `NOT NULL` | 更新时间 |

#### 3.5.2 优惠券领取记录表 (`m_coupon_receive_record`)

| 字段名 | 数据类型 | 长度 | 约束 | 描述 |
| :--- | :--- | :--- | :--- | :--- |
| `id` | `VARCHAR` | 36 | `PRIMARY KEY` | 记录ID |
| `coupon_id` | `VARCHAR` | 36 | `NOT NULL, FOREIGN KEY` | 优惠券ID |
| `member_id` | `VARCHAR` | 36 | `NOT NULL, FOREIGN KEY` | 会员ID |
| `coupon_code` | `VARCHAR` | 50 | `NOT NULL, UNIQUE` | 优惠券码 |
| `status` | `VARCHAR` | 20 | `NOT NULL` | 状态（如：未使用、已使用、已过期、已作废） |
| `receive_time` | `DATETIME` | | `NOT NULL` | 领取时间 |
| `use_time` | `DATETIME` | | | 使用时间 |
| `use_order_id` | `VARCHAR` | 36 | `FOREIGN KEY` | 使用订单ID |
| `expire_time` | `DATETIME` | `NOT NULL` | | 过期时间 |

#### 3.5.3 秒杀活动表 (`m_seckill_activity`)

| 字段名 | 数据类型 | 长度 | 约束 | 描述 |
| :--- | :--- | :--- | :--- | :--- |
| `id` | `VARCHAR` | 36 | `PRIMARY KEY` | 活动ID |
| `activity_name` | `VARCHAR` | 100 | `NOT NULL` | 活动名称 |
| `activity_code` | `VARCHAR` | 50 | `UNIQUE` | 活动编码 |
| `shop_id` | `VARCHAR` | 36 | `FOREIGN KEY` | 店铺ID（平台活动为null） |
| `start_time` | `DATETIME` | `NOT NULL` | | 开始时间 |
| `end_time` | `DATETIME` | `NOT NULL` | | 结束时间 |
| `status` | `VARCHAR` | 20 | `NOT NULL` | 状态（如：待开始、进行中、已结束、已取消） |
| `description` | `TEXT` | | | 活动描述 |
| `total_stock` | `INT` | 10 | `NOT NULL` | 总库存 |
| `sold_count` | `INT` | 10 | `DEFAULT 0` | 已售数量 |
| `max_buy_per_user` | `INT` | 10 | `NOT NULL` | 每人限购数量 |
| `remark` | `VARCHAR` | 255 | | 备注 |
| `create_time` | `DATETIME` | | `NOT NULL` | 创建时间 |
| `update_time` | `DATETIME` | | `NOT NULL` | 更新时间 |

#### 3.5.4 秒杀商品表 (`m_seckill_product`)

| 字段名 | 数据类型 | 长度 | 约束 | 描述 |
| :--- | :--- | :--- | :--- | :--- |
| `id` | `VARCHAR` | 36 | `PRIMARY KEY` | 秒杀商品ID |
| `activity_id` | `VARCHAR` | 36 | `NOT NULL, FOREIGN KEY` | 活动ID |
| `product_id` | `VARCHAR` | 36 | `NOT NULL, FOREIGN KEY` | 商品ID |
| `sku_id` | `VARCHAR` | 36 | `FOREIGN KEY` | 商品SKU ID |
| `seckill_price` | `DECIMAL` | 10,2 | `NOT NULL` | 秒杀价格 |
| `original_price` | `DECIMAL` | 10,2 | `NOT NULL` | 原价 |
| `stock` | `INT` | 10 | `NOT NULL` | 秒杀库存 |
| `sold_count` | `INT` | 10 | `DEFAULT 0` | 已售数量 |
| `sort` | `INT` | 10 | `DEFAULT 0` | 排序 |
| `create_time` | `DATETIME` | | `NOT NULL` | 创建时间 |
| `update_time` | `DATETIME` | | `NOT NULL` | 更新时间 |

#### 3.5.5 砍价活动表 (`m_bargain_activity`)

| 字段名 | 数据类型 | 长度 | 约束 | 描述 |
| :--- | :--- | :--- | :--- | :--- |
| `id` | `VARCHAR` | 36 | `PRIMARY KEY` | 活动ID |
| `activity_name` | `VARCHAR` | 100 | `NOT NULL` | 活动名称 |
| `activity_code` | `VARCHAR` | 50 | `UNIQUE` | 活动编码 |
| `shop_id` | `VARCHAR` | 36 | `NOT NULL, FOREIGN KEY` | 店铺ID |
| `product_id` | `VARCHAR` | 36 | `NOT NULL, FOREIGN KEY` | 商品ID |
| `sku_id` | `VARCHAR` | 36 | `FOREIGN KEY` | 商品SKU ID |
| `original_price` | `DECIMAL` | 10,2 | `NOT NULL` | 原价 |
| `min_price` | `DECIMAL` | 10,2 | `NOT NULL` | 最低砍价 |
| `start_time` | `DATETIME` | `NOT NULL` | | 开始时间 |
| `end_time` | `DATETIME` | `NOT NULL` | | 结束时间 |
| `bargain_time` | `INT` | 10 | `NOT NULL` | 砍价时长（小时） |
| `max_participants` | `INT` | 10 | `NOT NULL` | 最大参与人数 |
| `status` | `VARCHAR` | 20 | `NOT NULL` | 状态（如：待开始、进行中、已结束、已取消） |
| `total_stock` | `INT` | 10 | `NOT NULL` | 总库存 |
| `sold_count` | `INT` | 10 | `DEFAULT 0` | 已售数量 |
| `remark` | `VARCHAR` | 255 | | 备注 |
| `create_time` | `DATETIME` | | `NOT NULL` | 创建时间 |
| `update_time` | `DATETIME` | | `NOT NULL` | 更新时间 |

#### 3.5.6 砍价记录表 (`m_bargain_record`)

| 字段名 | 数据类型 | 长度 | 约束 | 描述 |
| :--- | :--- | :--- | :--- | :--- |
| `id` | `VARCHAR` | 36 | `PRIMARY KEY` | 记录ID |
| `activity_id` | `VARCHAR` | 36 | `NOT NULL, FOREIGN KEY` | 活动ID |
| `bargain_no` | `VARCHAR` | 50 | `NOT NULL, UNIQUE` | 砍价单号 |
| `member_id` | `VARCHAR` | 36 | `NOT NULL, FOREIGN KEY` | 发起会员ID |
| `current_price` | `DECIMAL` | 10,2 | `NOT NULL` | 当前价格 |
| `status` | `VARCHAR` | 20 | `NOT NULL` | 状态（如：砍价中、已完成、已过期、已购买） |
| `participant_count` | `INT` | 10 | `DEFAULT 0` | 参与人数 |
| `create_time` | `DATETIME` | | `NOT NULL` | 创建时间 |
| `update_time` | `DATETIME` | | `NOT NULL` | 更新时间 |
| `expire_time` | `DATETIME` | `NOT NULL` | | 过期时间 |
| `buy_time` | `DATETIME` | | | 购买时间 |

#### 3.5.7 拼团活动表 (`m_group_activity`)

| 字段名 | 数据类型 | 长度 | 约束 | 描述 |
| :--- | :--- | :--- | :--- | :--- |
| `id` | `VARCHAR` | 36 | `PRIMARY KEY` | 活动ID |
| `activity_name` | `VARCHAR` | 100 | `NOT NULL` | 活动名称 |
| `activity_code` | `VARCHAR` | 50 | `UNIQUE` | 活动编码 |
| `shop_id` | `VARCHAR` | 36 | `NOT NULL, FOREIGN KEY` | 店铺ID |
| `product_id` | `VARCHAR` | 36 | `NOT NULL, FOREIGN KEY` | 商品ID |
| `sku_id` | `VARCHAR` | 36 | `FOREIGN KEY` | 商品SKU ID |
| `original_price` | `DECIMAL` | 10,2 | `NOT NULL` | 原价 |
| `group_price` | `DECIMAL` | 10,2 | `NOT NULL` | 拼团价格 |
| `start_time` | `DATETIME` | `NOT NULL` | | 开始时间 |
| `end_time` | `DATETIME` | `NOT NULL` | | 结束时间 |
| `group_time` | `INT` | 10 | `NOT NULL` | 拼团时长（小时） |
| `min_group_size` | `INT` | 10 | `NOT NULL` | 最小拼团人数 |
| `max_group_size` | `INT` | 10 | `NOT NULL` | 最大拼团人数 |
| `stock` | `INT` | 10 | `NOT NULL` | 库存 |
| `sold_count` | `INT` | 10 | `DEFAULT 0` | 已售数量 |
| `status` | `VARCHAR` | 20 | `NOT NULL` | 状态（如：待开始、进行中、已结束、已取消） |
| `description` | `TEXT` | | | 活动描述 |
| `remark` | `VARCHAR` | 255 | | 备注 |
| `create_time` | `DATETIME` | | `NOT NULL` | 创建时间 |
| `update_time` | `DATETIME` | | `NOT NULL` | 更新时间 |

#### 3.5.8 拼团记录表 (`m_group_record`)

| 字段名 | 数据类型 | 长度 | 约束 | 描述 |
| :--- | :--- | :--- | :--- | :--- |
| `id` | `VARCHAR` | 36 | `PRIMARY KEY` | 记录ID |
| `activity_id` | `VARCHAR` | 36 | `NOT NULL, FOREIGN KEY` | 活动ID |
| `group_no` | `VARCHAR` | 50 | `NOT NULL, UNIQUE` | 拼团单号 |
| `leader_id` | `VARCHAR` | 36 | `NOT NULL, FOREIGN KEY` | 团长ID |
| `current_size` | `INT` | 10 | `NOT NULL` | 当前人数 |
| `status` | `VARCHAR` | 20 | `NOT NULL` | 状态（如：拼团中、已成团、已失败、已过期） |
| `create_time` | `DATETIME` | | `NOT NULL` | 创建时间 |
| `update_time` | `DATETIME` | | `NOT NULL` | 更新时间 |
| `expire_time` | `DATETIME` | `NOT NULL` | | 过期时间 |
| `success_time` | `DATETIME` | | | 成团时间 |

#### 3.5.9 积分商品表 (`m_points_product`)

| 字段名 | 数据类型 | 长度 | 约束 | 描述 |
| :--- | :--- | :--- | :--- | :--- |
| `id` | `VARCHAR` | 36 | `PRIMARY KEY` | 积分商品ID |
| `product_id` | `VARCHAR` | 36 | `NOT NULL, FOREIGN KEY` | 商品ID |
| `sku_id` | `VARCHAR` | 36 | `FOREIGN KEY` | 商品SKU ID |
| `points` | `INT` | 10 | `NOT NULL` | 兑换所需积分 |
| `stock` | `INT` | 10 | `NOT NULL` | 库存 |
| `sold_count` | `INT` | 10 | `DEFAULT 0` | 已售数量 |
| `status` | `VARCHAR` | 20 | `NOT NULL` | 状态（如：上架、下架、售罄） |
| `start_time` | `DATETIME` | | | 开始时间 |
| `end_time` | `DATETIME` | | | 结束时间 |
| `create_time` | `DATETIME` | | `NOT NULL` | 创建时间 |
| `update_time` | `DATETIME` | | `NOT NULL` | 更新时间 |

### 3.6 运营管理模块

#### 3.6.1 页面装修表 (`m_page_decoration`)

| 字段名 | 数据类型 | 长度 | 约束 | 描述 |
| :--- | :--- | :--- | :--- | :--- |
| `id` | `VARCHAR` | 36 | `PRIMARY KEY` | 装修ID |
| `page_name` | `VARCHAR` | 100 | `NOT NULL` | 页面名称（如：首页、活动页） |
| `page_type` | `VARCHAR` | 50 | `NOT NULL` | 页面类型 |
| `content` | `JSON` | | `NOT NULL` | 装修内容（JSON格式） |
| `status` | `VARCHAR` | 20 | `NOT NULL` | 状态（如：草稿、已发布、已下线） |
| `publish_time` | `DATETIME` | | | 发布时间 |
| `create_time` | `DATETIME` | | `NOT NULL` | 创建时间 |
| `update_time` | `DATETIME` | | `NOT NULL` | 更新时间 |

#### 3.6.2 文章表 (`m_article`)

| 字段名 | 数据类型 | 长度 | 约束 | 描述 |
| :--- | :--- | :--- | :--- | :--- |
| `id` | `VARCHAR` | 36 | `PRIMARY KEY` | 文章ID |
| `title` | `VARCHAR` | 255 | `NOT NULL` | 文章标题 |
| `category_id` | `VARCHAR` | 36 | `NOT NULL, FOREIGN KEY` | 分类ID |
| `content` | `TEXT` | | `NOT NULL` | 文章内容 |
| `summary` | `VARCHAR` | 255 | | 文章摘要 |
| `cover_image` | `VARCHAR` | 255 | | 封面图片 |
| `author` | `VARCHAR` | 50 | | 作者 |
| `source` | `VARCHAR` | 100 | | 来源 |
| `views` | `INT` | 10 | `DEFAULT 0` | 浏览量 |
| `status` | `VARCHAR` | 20 | `NOT NULL` | 状态（如：草稿、已发布、已下线） |
| `publish_time` | `DATETIME` | | | 发布时间 |
| `create_time` | `DATETIME` | | `NOT NULL` | 创建时间 |
| `update_time` | `DATETIME` | | `NOT NULL` | 更新时间 |

#### 3.6.3 文章分类表 (`m_article_category`)

| 字段名 | 数据类型 | 长度 | 约束 | 描述 |
| :--- | :--- | :--- | :--- | :--- |
| `id` | `VARCHAR` | 36 | `PRIMARY KEY` | 分类ID |
| `name` | `VARCHAR` | 100 | `NOT NULL` | 分类名称 |
| `parent_id` | `VARCHAR` | 36 | `DEFAULT '0'` | 父分类ID（'0'为顶级分类） |
| `sort` | `INT` | 10 | `DEFAULT 0` | 排序 |
| `status` | `VARCHAR` | 20 | `NOT NULL` | 状态（如：启用、禁用） |
| `create_time` | `DATETIME` | | `NOT NULL` | 创建时间 |
| `update_time` | `DATETIME` | | `NOT NULL` | 更新时间 |

#### 3.6.4 意见反馈表 (`m_feedback`)

| 字段名 | 数据类型 | 长度 | 约束 | 描述 |
| :--- | :--- | :--- | :--- | :--- |
| `id` | `VARCHAR` | 36 | `PRIMARY KEY` | 反馈ID |
| `member_id` | `VARCHAR` | 36 | `NOT NULL, FOREIGN KEY` | 会员ID |
| `type` | `VARCHAR` | 50 | `NOT NULL` | 反馈类型（如：功能建议、bug反馈、投诉举报） |
| `content` | `TEXT` | `NOT NULL` | | 反馈内容 |
| `images` | `JSON` | | | 反馈图片（JSON数组） |
| `contact_info` | `VARCHAR` | 255 | | 联系方式 |
| `status` | `VARCHAR` | 20 | `NOT NULL` | 状态（如：待处理、处理中、已解决、已驳回） |
| `reply_content` | `TEXT` | | | 回复内容 |
| `processor_id` | `VARCHAR` | 36 | | 处理人ID |
| `create_time` | `DATETIME` | | `NOT NULL` | 创建时间 |
| `update_time` | `DATETIME` | | `NOT NULL` | 更新时间 |
| `process_time` | `DATETIME` | | | 处理时间 |

#### 3.6.5 站内信表 (`m_message`)

| 字段名 | 数据类型 | 长度 | 约束 | 描述 |
| :--- | :--- | :--- | :--- | :--- |
| `id` | `VARCHAR` | 36 | `PRIMARY KEY` | 消息ID |
| `title` | `VARCHAR` | 255 | `NOT NULL` | 消息标题 |
| `content` | `TEXT` | `NOT NULL` | | 消息内容 |
| `sender_id` | `VARCHAR` | 36 | | 发送人ID（系统发送为null） |
| `type` | `VARCHAR` | 50 | `NOT NULL` | 消息类型（如：系统通知、活动通知、订单通知） |
| `status` | `VARCHAR` | 20 | `NOT NULL` | 状态（如：草稿、已发送、已撤回） |
| `send_time` | `DATETIME` | | | 发送时间 |
| `create_time` | `DATETIME` | | `NOT NULL` | 创建时间 |
| `update_time` | `DATETIME` | | `NOT NULL` | 更新时间 |

#### 3.6.6 站内信接收记录表 (`m_message_receive_record`)

| 字段名 | 数据类型 | 长度 | 约束 | 描述 |
| :--- | :--- | :--- | :--- | :--- |
| `id` | `VARCHAR` | 36 | `PRIMARY KEY` | 记录ID |
| `message_id` | `VARCHAR` | 36 | `NOT NULL, FOREIGN KEY` | 消息ID |
| `member_id` | `VARCHAR` | 36 | `NOT NULL, FOREIGN KEY` | 接收会员ID |
| `is_read` | `TINYINT` | 1 | `DEFAULT 0` | 是否已读（1:是, 0:否） |
| `read_time` | `DATETIME` | | | 阅读时间 |
| `create_time` | `DATETIME` | | `NOT NULL` | 创建时间 |
| `update_time` | `DATETIME` | | `NOT NULL` | 更新时间 |

#### 3.6.7 短信配置表 (`m_sms_config`)

| 字段名 | 数据类型 | 长度 | 约束 | 描述 |
| :--- | :--- | :--- | :--- | :--- |
| `id` | `VARCHAR` | 36 | `PRIMARY KEY` | 配置ID |
| `name` | `VARCHAR` | 100 | `NOT NULL` | 配置名称 |
| `template_code` | `VARCHAR` | 100 | `NOT NULL, UNIQUE` | 模板编码 |
| `template_content` | `TEXT` | `NOT NULL` | | 模板内容 |
| `sms_type` | `VARCHAR` | 50 | `NOT NULL` | 短信类型（如：验证码、通知、营销） |
| `status` | `VARCHAR` | 20 | `NOT NULL` | 状态（如：启用、禁用） |
| `remark` | `VARCHAR` | 255 | | 备注 |
| `create_time` | `DATETIME` | | `NOT NULL` | 创建时间 |
| `update_time` | `DATETIME` | | `NOT NULL` | 更新时间 |

#### 3.6.8 短信发送记录表 (`m_sms_send_record`)

| 字段名 | 数据类型 | 长度 | 约束 | 描述 |
| :--- | :--- | :--- | :--- | :--- |
| `id` | `VARCHAR` | 36 | `PRIMARY KEY` | 记录ID |
| `template_code` | `VARCHAR` | 100 | `NOT NULL` | 模板编码 |
| `phone` | `VARCHAR` | 20 | `NOT NULL` | 手机号 |
| `content` | `TEXT` | `NOT NULL` | | 发送内容 |
| `send_status` | `VARCHAR` | 20 | `NOT NULL` | 发送状态（如：待发送、发送中、发送成功、发送失败） |
| `error_msg` | `VARCHAR` | 255 | | 错误信息 |
| `create_time` | `DATETIME` | | `NOT NULL` | 创建时间 |
| `update_time` | `DATETIME` | | `NOT NULL` | 更新时间 |
| `send_time` | `DATETIME` | | | 发送时间 |

### 3.7 系统设置模块

#### 3.7.1 系统参数表 (`m_system_param`)

| 字段名 | 数据类型 | 长度 | 约束 | 描述 |
| :--- | :--- | :--- | :--- | :--- |
| `id` | `VARCHAR` | 36 | `PRIMARY KEY` | 参数ID |
| `param_key` | `VARCHAR` | 100 | `NOT NULL, UNIQUE` | 参数键 |
| `param_value` | `TEXT` | `NOT NULL` | | 参数值 |
| `param_name` | `VARCHAR` | 100 | `NOT NULL` | 参数名称 |
| `param_type` | `VARCHAR` | 50 | `NOT NULL` | 参数类型（如：字符串、数字、布尔值、JSON） |
| `description` | `VARCHAR` | 255 | | 参数描述 |
| `status` | `VARCHAR` | 20 | `NOT NULL` | 状态（如：启用、禁用） |
| `create_time` | `DATETIME` | | `NOT NULL` | 创建时间 |
| `update_time` | `DATETIME` | | `NOT NULL` | 更新时间 |

#### 3.7.2 支付配置表 (`m_payment_config`)

| 字段名 | 数据类型 | 长度 | 约束 | 描述 |
| :--- | :--- | :--- | :--- | :--- |
| `id` | `VARCHAR` | 36 | `PRIMARY KEY` | 配置ID |
| `name` | `VARCHAR` | 100 | `NOT NULL` | 配置名称 |
| `payment_type` | `VARCHAR` | 50 | `NOT NULL` | 支付类型（如：微信支付、支付宝、银行卡） |
| `app_id` | `VARCHAR` | 100 | `NOT NULL` | 应用ID |
| `mch_id` | `VARCHAR` | 100 | | 商户ID |
| `api_key` | `VARCHAR` | 255 | `NOT NULL` | API密钥 |
| `public_key` | `TEXT` | | | 公钥 |
| `private_key` | `TEXT` | | | 私钥 |
| `notify_url` | `VARCHAR` | 255 | `NOT NULL` | 通知地址 |
| `return_url` | `VARCHAR` | 255 | | 返回地址 |
| `status` | `VARCHAR` | 20 | `NOT NULL` | 状态（如：启用、禁用） |
| `remark` | `VARCHAR` | 255 | | 备注 |
| `create_time` | `DATETIME` | | `NOT NULL` | 创建时间 |
| `update_time` | `DATETIME` | | `NOT NULL` | 更新时间 |

#### 3.7.3 物流配置表 (`m_logistics_config`)

| 字段名 | 数据类型 | 长度 | 约束 | 描述 |
| :--- | :--- | :--- | :--- | :--- |
| `id` | `VARCHAR` | 36 | `PRIMARY KEY` | 配置ID |
| `name` | `VARCHAR` | 100 | `NOT NULL` | 配置名称 |
| `logistics_company` | `VARCHAR` | 100 | `NOT NULL` | 物流公司 |
| `api_url` | `VARCHAR` | 255 | `NOT NULL` | API地址 |
| `app_id` | `VARCHAR` | 100 | `NOT NULL` | 应用ID |
| `app_key` | `VARCHAR` | 255 | `NOT NULL` | API密钥 |
| `status` | `VARCHAR` | 20 | `NOT NULL` | 状态（如：启用、禁用） |
| `remark` | `VARCHAR` | 255 | | 备注 |
| `create_time` | `DATETIME` | | `NOT NULL` | 创建时间 |
| `update_time` | `DATETIME` | | `NOT NULL` | 更新时间 |

#### 3.7.4 敏感词表 (`m_sensitive_word`)

| 字段名 | 数据类型 | 长度 | 约束 | 描述 |
| :--- | :--- | :--- | :--- | :--- |
| `id` | `VARCHAR` | 36 | `PRIMARY KEY` | 敏感词ID |
| `word` | `VARCHAR` | 100 | `NOT NULL, UNIQUE` | 敏感词 |
| `type` | `VARCHAR` | 50 | `NOT NULL` | 敏感词类型（如：政治、色情、暴力、广告） |
| `status` | `VARCHAR` | 20 | `NOT NULL` | 状态（如：启用、禁用） |
| `create_time` | `DATETIME` | | `NOT NULL` | 创建时间 |
| `update_time` | `DATETIME` | | `NOT NULL` | 更新时间 |

## 4. 索引设计

### 4.1 会员管理模块索引

- `m_member`: `username`(唯一索引), `phone`(唯一索引), `email`(唯一索引), `member_level_id`(普通索引)
- `m_member_evaluation`: `member_id`(普通索引), `order_id`(普通索引), `product_id`(普通索引), `shop_id`(普通索引)
- `m_member_point_record`: `member_id`(普通索引), `source_id`(普通索引)
- `m_member_fund_record`: `member_id`(普通索引), `source_id`(普通索引)
- `m_member_recharge_record`: `member_id`(普通索引), `order_no`(唯一索引), `transaction_id`(普通索引)

### 4.2 订单管理模块索引

- `m_order`: `order_no`(唯一索引), `member_id`(普通索引), `shop_id`(普通索引), `payment_status`(普通索引), `order_status`(普通索引), `shipping_status`(普通索引)
- `m_order_item`: `order_id`(普通索引), `product_id`(普通索引), `sku_id`(普通索引)
- `m_virtual_order`: `order_no`(唯一索引), `member_id`(普通索引), `shop_id`(普通索引)
- `m_after_sale`: `after_sale_no`(唯一索引), `order_id`(普通索引), `member_id`(普通索引), `shop_id`(普通索引), `product_id`(普通索引), `status`(普通索引)
- `m_order_complaint`: `complaint_no`(唯一索引), `order_id`(普通索引), `member_id`(普通索引), `shop_id`(普通索引), `status`(普通索引)
- `m_order_payment_record`: `payment_no`(唯一索引), `order_id`(普通索引), `member_id`(普通索引), `transaction_id`(普通索引), `status`(普通索引)

### 4.3 商品管理模块索引

- `m_product`: `product_code`(唯一索引), `shop_id`(普通索引), `category_id`(普通索引), `brand_id`(普通索引), `unit_id`(普通索引), `is_active`(普通索引), `is_audit`(普通索引)
- `m_product_sku`: `sku_code`(唯一索引), `product_id`(普通索引), `barcode`(普通索引)
- `m_product_category`: `parent_id`(普通索引), `level`(普通索引), `is_show`(普通索引)
- `m_product_brand`: `name`(唯一索引), `is_show`(普通索引)
- `m_product_spec`: `name`(普通索引)
- `m_product_spec_value`: `spec_id`(普通索引), `value`(普通索引)
- `m_unit`: `name`(唯一索引)
- `m_product_audit`: `product_id`(普通索引), `shop_id`(普通索引), `audit_status`(普通索引)

### 4.4 店铺管理模块索引

- `m_shop`: `shop_name`(唯一索引), `shop_code`(唯一索引), `owner_id`(普通索引), `status`(普通索引)
- `m_shop_apply`: `apply_no`(唯一索引), `status`(普通索引)
- `m_shop_settlement`: `settlement_no`(唯一索引), `shop_id`(普通索引), `status`(普通索引)
- `m_shop_reconciliation`: `reconciliation_no`(唯一索引), `shop_id`(普通索引), `status`(普通索引)
- `m_shop_settlement_account`: `shop_id`(普通索引), `is_default`(普通索引)
- `m_shop_operation_stat`: `shop_id`(普通索引), `stat_date`(普通索引)

### 4.5 促销管理模块索引

- `m_coupon`: `coupon_code`(唯一索引), `shop_id`(普通索引), `status`(普通索引)
- `m_coupon_receive_record`: `coupon_id`(普通索引), `member_id`(普通索引), `coupon_code`(唯一索引), `status`(普通索引)
- `m_seckill_activity`: `activity_code`(唯一索引), `shop_id`(普通索引), `status`(普通索引)
- `m_seckill_product`: `activity_id`(普通索引), `product_id`(普通索引), `sku_id`(普通索引)
- `m_bargain_activity`: `activity_code`(唯一索引), `shop_id`(普通索引), `product_id`(普通索引), `status`(普通索引)
- `m_bargain_record`: `activity_id`(普通索引), `member_id`(普通索引), `bargain_no`(唯一索引), `status`(普通索引)
- `m_group_activity`: `activity_code`(唯一索引), `shop_id`(普通索引), `product_id`(普通索引), `status`(普通索引)
- `m_group_record`: `activity_id`(普通索引), `leader_id`(普通索引), `group_no`(唯一索引), `status`(普通索引)
- `m_points_product`: `product_id`(普通索引), `sku_id`(普通索引), `status`(普通索引)

### 4.6 运营管理模块索引

- `m_page_decoration`: `page_name`(普通索引), `page_type`(普通索引), `status`(普通索引)
- `m_article`: `title`(普通索引), `category_id`(普通索引), `status`(普通索引)
- `m_article_category`: `parent_id`(普通索引), `status`(普通索引)
- `m_feedback`: `member_id`(普通索引), `type`(普通索引), `status`(普通索引)
- `m_message`: `type`(普通索引), `status`(普通索引)
- `m_message_receive_record`: `message_id`(普通索引), `member_id`(普通索引), `is_read`(普通索引)
- `m_sms_config`: `template_code`(唯一索引), `status`(普通索引)
- `m_sms_send_record`: `phone`(普通索引), `send_status`(普通索引)

### 4.7 系统设置模块索引

- `m_system_param`: `param_key`(唯一索引), `status`(普通索引)
- `m_payment_config`: `payment_type`(普通索引), `status`(普通索引)
- `m_logistics_config`: `logistics_company`(普通索引), `status`(普通索引)
- `m_sensitive_word`: `word`(唯一索引), `type`(普通索引), `status`(普通索引)

## 5. 外键关系

### 5.1 会员管理模块

- `m_member_evaluation.member_id` → `m_member.id`
- `m_member_evaluation.order_id` → `m_order.id`
- `m_member_evaluation.order_item_id` → `m_order_item.id`
- `m_member_evaluation.product_id` → `m_product.id`
- `m_member_evaluation.shop_id` → `m_shop.id`
- `m_member_point_record.member_id` → `m_member.id`
- `m_member_fund_record.member_id` → `m_member.id`
- `m_member_recharge_record.member_id` → `m_member.id`

### 5.2 订单管理模块

- `m_order.member_id` → `m_member.id`
- `m_order.shop_id` → `m_shop.id`
- `m_order.coupon_id` → `m_coupon.id`
- `m_order_item.order_id` → `m_order.id`
- `m_order_item.product_id` → `m_product.id`
- `m_order_item.sku_id` → `m_product_sku.id`
- `m_virtual_order.member_id` → `m_member.id`
- `m_virtual_order.shop_id` → `m_shop.id`
- `m_virtual_order.product_id` → `m_product.id`
- `m_after_sale.order_id` → `m_order.id`
- `m_after_sale.order_item_id` → `m_order_item.id`
- `m_after_sale.member_id` → `m_member.id`
- `m_after_sale.shop_id` → `m_shop.id`
- `m_after_sale.product_id` → `m_product.id`
- `m_order_complaint.order_id` → `m_order.id`
- `m_order_complaint.member_id` → `m_member.id`
- `m_order_complaint.shop_id` → `m_shop.id`
- `m_order_payment_record.order_id` → `m_order.id`
- `m_order_payment_record.member_id` → `m_member.id`

### 5.3 商品管理模块

- `m_product.shop_id` → `m_shop.id`
- `m_product.category_id` → `m_product_category.id`
- `m_product.brand_id` → `m_product_brand.id`
- `m_product.unit_id` → `m_unit.id`
- `m_product_sku.product_id` → `m_product.id`
- `m_product_spec_value.spec_id` → `m_product_spec.id`
- `m_product_audit.product_id` → `m_product.id`
- `m_product_audit.shop_id` → `m_shop.id`

### 5.4 店铺管理模块

- `m_shop.owner_id` → `m_member.id`
- `m_shop_settlement.shop_id` → `m_shop.id`
- `m_shop_reconciliation.shop_id` → `m_shop.id`
- `m_shop_settlement_account.shop_id` → `m_shop.id`
- `m_shop_operation_stat.shop_id` → `m_shop.id`

### 5.5 促销管理模块

- `m_coupon.shop_id` → `m_shop.id`
- `m_coupon_receive_record.coupon_id` → `m_coupon.id`
- `m_coupon_receive_record.member_id` → `m_member.id`
- `m_coupon_receive_record.use_order_id` → `m_order.id`
- `m_seckill_activity.shop_id` → `m_shop.id`
- `m_seckill_product.activity_id` → `m_seckill_activity.id`
- `m_seckill_product.product_id` → `m_product.id`
- `m_seckill_product.sku_id` → `m_product_sku.id`
- `m_bargain_activity.shop_id` → `m_shop.id`
- `m_bargain_activity.product_id` → `m_product.id`
- `m_bargain_activity.sku_id` → `m_product_sku.id`
- `m_bargain_record.activity_id` → `m_bargain_activity.id`
- `m_bargain_record.member_id` → `m_member.id`
- `m_group_activity.shop_id` → `m_shop.id`
- `m_group_activity.product_id` → `m_product.id`
- `m_group_activity.sku_id` → `m_product_sku.id`
- `m_group_record.activity_id` → `m_group_activity.id`
- `m_group_record.leader_id` → `m_member.id`
- `m_points_product.product_id` → `m_product.id`
- `m_points_product.sku_id` → `m_product_sku.id`

### 5.6 运营管理模块

- `m_article.category_id` → `m_article_category.id`
- `m_feedback.member_id` → `m_member.id`
- `m_message_receive_record.message_id` → `m_message.id`
- `m_message_receive_record.member_id` → `m_member.id`

### 5.7 系统设置模块

- `m_admin.department_id` → `m_department.id`
- `m_admin_role.admin_id` → `m_admin.id`
- `m_admin_role.role_id` → `m_role.id`
- `m_role_permission.role_id` → `m_role.id`
- `m_role_permission.permission_id` → `m_permission.id`

## 6. 总结

本数据库设计文档为商城管理系统提供了完整的数据库结构设计，涵盖了会员管理、订单管理、商品管理、店铺管理、促销管理、运营管理和系统设置等核心模块。

设计特点包括：

1. **规范的命名约定**：所有表名以 `m_` 开头，采用小写字母加下划线的命名方式，确保了代码的一致性和可读性。

2. **完整的字段设计**：每个表都包含了必要的字段，并根据实际业务需求设置了合理的数据类型和约束。

3. **合理的索引设计**：为常用查询字段创建了索引，提高了查询性能。

4. **完整的外键关系**：设置了合理的外键关系，确保了数据的完整性和一致性。

5. **支持 MySQL 8.0 新特性**：使用了 JSON 数据类型存储复杂数据，如商品图片、评价图片等。

6. **统一的审计字段**：所有表都包含了 `create_time` 和 `update_time` 字段，记录数据的创建和更新时间。

7. **详细的状态字段**：为各业务流程设置了详细的状态字段，支持完整的业务逻辑。

本设计方案可以作为商城管理系统数据库开发的基础，根据实际业务需求可以进行适当的调整和扩展。